<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Validation API Client</title>
  </head>
  <div>
    <button class="btn">Validate</button>
  </div>
  <body>
    <script>
      let lg = console.log;

      let btn = document.querySelector(".btn");
      btn.addEventListener("click", () => {
        lg("clicked");
        validateData();
      });

      let tesst = {
        rule: {
          field: "missions.count",
          condition: "gte",
          condition_value: 30,
        },
        data: {
          name: "James Holden",
          crew: "Rocinante",
          age: 34,
          position: "Captain",
          missions: {
            count: 45,
            successful: 44,
            failed: 1,
          },
        },
      };

      let input1 = {
        rule: {
          field: "missions",
          condition: "gte",
          condition_value: 30,
        },
        data: {
          name: "James Holden",
          crew: "Rocinante",
          age: 34,
          position: "Captain",
          missions: 45,
        },
      };
      let input2 = {
        rule: {
          field: "missions",
          condition: "gte",
          condition_value: 30,
        },
        //  rule:"hssh"
        //rule:893823
      };
      let input3 = {
        /*   data: {
          name: "James Holden",
          crew: "Rocinante",
          age: 34,
          position: "Captain",
          missions: 45,
        }, */
        //data: [6, 928, 9292],
        //data: 30, //data is not of the right formate
        //data: "George",
      };

      const validateData = async () => {
        let url = " http://localhost:10000/validate-rule";
        try {
          let res = await fetch(url, {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
            },
            body: JSON.stringify(tesst),
          });
          let data = await res.json();
          if (res.status == 200) {
            console.log(data);
          } else {
            console.log(data);
          }
        } catch (e) {}
      };

      //Array.isArray({x:22,y:"pual"})//false
      /* 
      numbers=[7,9,8,9]
      Array.isArray(numbers)//true
      */
    </script>
  </body>
</html>
